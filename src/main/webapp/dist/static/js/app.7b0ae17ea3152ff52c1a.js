webpackJsonp([1],{"+9Jf":function(t,e){},"1lFV":function(t,e){},"2Qso":function(t,e){},"3T7Z":function(t,e){},"5W9S":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAApUlEQVRoBe3SwQnAMAzF0JD9V/UOJQvoJAoG9Sr4mJees+2bmbvt5ndvR//1akknDQL9HoCjpqRVThhLGnDUlLTKCWNJA46aklY5YSxpwFFT0ionjCUNOGpKWuWEsaQBR01Jq5wwljTgqClplRPGkgYcNSWtcsJY0oCjpqRVThhLGnDUlLTKCWNJA46aklY5YSxpwFFT0ionjCUNOGpKWuWEsZXSH9lyAz5ZQ6B4AAAAAElFTkSuQmCC"},"9+32":function(t,e){},"991W":function(t,e){},"9rXu":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAApElEQVRoBe3SwQnAMAzFUKf779zQBXQSBYN6FXzMS8/MO9u+Z9vB370d/derJZ00CPR7AI6aklY5YSxpwFFT0ionjCUNOGpKWuWEsaQBR01Jq5wwljTgqClplRPGkgYcNSWtcsJY0oCjpqRVThhLGnDUlLTKCWNJA46aklY5YSxpwFFT0ionjCUNOGpKWuWEsaQBR01Jq5wwljTgqClplRPGVkpfXV8Bd1ssUx4AAAAASUVORK5CYII="},"H+tp":function(t,e){},Kdbh:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n=a("mtWM"),r=a.n(n),i=a("mw3O"),o=a.n(i),l={data:function(){return{}},computed:{carPanelData:function(){return this.$store.state.carPanelData},count:function(){for(var t=0,e=this.$store.state.carPanelData,a=0;a<e.length;a++)t+=e[a].count;return t},total:function(){for(var t=this.$store.state.carPanelData,e=0,a=0;a<t.length;a++)e+=t[a].count*t[a].price;return e},carShow:function(){return this.$store.state.carShow},ball:function(){return this.$store.state.ball}},methods:{delCarPanelData:function(t){var e=this;r.a.post("api/delCar",o.a.stringify({userid:this.$store.getters.getUserid,goodid:t}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){console.log(a.data),e.$store.commit("delCarPanelData",t)}).catch(function(t){console.log(t)})},carShowhandle:function(){this.$store.commit("showCar")},carHidehandle:function(){var t=this;setTimeout(function(){t.$store.commit("hideCar")},500)},beforeEnter:function(t){var e=this.ball.el.getBoundingClientRect(),a=document.getElementsByClassName("ball-rect")[0].getBoundingClientRect(),s=document.getElementsByClassName("mask-item")[0],n=a.left+15-(e.left+e.width/2),r=e.top+e.height/2-(a.top+10);t.style.transform="translate3d(0,"+r+"px,0)",s.style.transform="translate3d(-"+n+"px,0,0)",s.src=this.ball.img},enter:function(t){t.offsetHeight;t.style.transform="translate3d(0,0,0)",document.getElementsByClassName("mask-item")[0].style.transform="translate3d(0,0,0)"},afterEnter:function(){this.ball.show=!1}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-cart",on:{mouseenter:t.carShowhandle,mouseleave:t.carHidehandle}},[a("a",{staticClass:"ball-rect",attrs:{href:"javascript:;"}},[t._v("购物车")]),t._v(" "),a("span",{staticClass:"cart-empty-num",class:{"cart-num":t.count>0}},[a("i",[t._v(t._s(t.count))])]),t._v(" "),t.carShow?a("div",{staticClass:"nav-cart-wrapper"},[a("div",{staticClass:"nav-cart-list"},[0==t.count?a("div",{staticClass:"empty"},[a("h3",[t._v("购物车为空")]),t._v(" "),a("p",[t._v("您还没有选购任何商品，现在前往商城选购吧!")])]):a("div",{staticClass:"full"},[a("div",{staticClass:"nav-cart-items"},[a("ul",t._l(t.carPanelData,function(e,s){return a("li",{staticClass:"clear"},[a("div",{staticClass:"cart-item js-cart-item cart-item-sell"},[a("div",{staticClass:"cart-item-inner"},[a("div",{staticClass:"item-thumb"},[a("img",{attrs:{src:e.img_url}})]),t._v(" "),a("div",{staticClass:"item-desc"},[a("div",{staticClass:"cart-cell"},[a("p",{staticClass:"attrs"},[a("router-link",{attrs:{to:{name:"detail",query:{id:e.id}}}},[a("span",[t._v(t._s(e.name))])])],1),t._v(" "),a("h6",[a("span",{staticClass:"price-icon"},[t._v("¥")]),a("span",{staticClass:"price-num"},[t._v(t._s(e.price))]),t._v(" "),a("span",{staticClass:"item-num"},[t._v("x "+t._s(e.count))])])])]),t._v(" "),a("div",{staticClass:"del-btn",on:{click:function(a){t.delCarPanelData(e.id)}}},[t._v("删除")])])])])}))]),t._v(" "),a("div",{staticClass:"nav-cart-total"},[a("p",[t._v("共 "),a("strong",{staticClass:"ng-binding"},[t._v(t._s(t.count))]),t._v(" 件商品")]),t._v(" "),a("h5",[t._v("合计："),a("span",{staticClass:"price-icon"},[t._v("¥")]),a("span",{staticClass:"price-num ng-binding",attrs:{"ng-bind":"cartMenu.totalPrice"}},[t._v(t._s(t.total))])]),t._v(" "),a("h6",[a("router-link",{attrs:{to:"carPanel"}},[a("el-button",{attrs:{type:"primary"}},[t._v("去购物车")])],1)],1)])])])]):t._e(),t._v(" "),a("transition",{attrs:{name:"ball",css:!0},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.ball.show,expression:"ball.show"}],staticClass:"addcart-mask"},[a("img",{staticClass:"mask-item"})])])],1)},staticRenderFns:[]};var u={data:function(){return{}},components:{carPanel:a("VU/8")(l,c,!1,function(t){a("3T7Z")},null,null).exports},computed:{loggedin:function(){return this.$store.state.loggedin},userInfo:function(){if(this.$store.state.loggedin)return this.$store.state.userInfo}},methods:{logout:function(){this.$store.commit("reset")}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"header"}},[a("div",{staticClass:"nav-global"},[a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("ul",{staticClass:"nav-aside"},[a("li",{staticClass:"nav-user"},[a("a",{attrs:{href:"javascript:;"}},[t._v("个人中心")]),t._v(" "),t.loggedin?a("div",{staticClass:"nav-user-wrapper"},[a("div",{staticClass:"nav-user-list"},[a("router-link",{attrs:{to:"userCenter"}},[a("dl",{staticClass:"nav-user-avatar"},[a("dd",[a("span",{staticClass:"ng-scope"})]),t._v(" "),null==t.userInfo.nickname?a("dt",{staticClass:"ng-binding"},[t._v("设置昵称")]):a("dt",{staticClass:"ng-binding"},[t._v(t._s(t.userInfo.nickname))])])]),t._v(" "),a("ul",[a("li",{staticClass:"order"},[a("router-link",{attrs:{to:"payedPage"}},[t._v("我的订单")])],1),t._v(" "),a("li",{staticClass:"car"},[a("router-link",{attrs:{to:"carPanel"}},[t._v("购物车")])],1),t._v(" "),a("li",{staticClass:"logout",on:{click:t.logout}},[a("router-link",{attrs:{to:"login"}},[t._v("退出")])],1)])],1)]):a("div",{staticClass:"nav-user-wrapper"},[a("div",{staticClass:"nav-user-list"},[a("router-link",{attrs:{to:"login"}},[a("dl",{staticClass:"nav-user-avatar"},[a("dd",[a("span",{staticClass:"ng-scope"})]),t._v(" "),a("dt",{staticClass:"ng-binding"},[t._v("请先登录")])])])],1)])]),t._v(" "),a("carPanel")],1),t._v(" "),a("ul",{staticClass:"nav-list"},[t.loggedin?t._e():a("li",[a("router-link",{attrs:{to:"login"}},[t._v("登录")]),t._v("/")],1),t._v(" "),t.loggedin?t._e():a("li",[a("router-link",{attrs:{to:"regist"}},[t._v("注册")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"Home"}},[t._v("首页")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"shop"}},[t._v("商品页面")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"carPanel"}},[t._v("购物车")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"payedPage"}},[t._v("我的订单")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"userCenter"}},[t._v("个人中心")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"nav-logo"},[e("img",{attrs:{src:a("V8JI")}})])}]};var p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",{staticStyle:{"margin-top":"20px","text-align":"center"}},[this._v("@copyright 2018-2020")])])}]};var m={name:"App",components:{headerNav:a("VU/8")(u,d,!1,function(t){a("H+tp")},null,null).exports,footerNav:a("VU/8")({},p,!1,function(t){a("1lFV")},null,null).exports}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("headerNav"),this._v(" "),e("router-view"),this._v(" "),e("footerNav")],1)},staticRenderFns:[]};var f=a("VU/8")(m,v,!1,function(t){a("vAiV")},null,null).exports,g=a("/ocq"),h=(a("991W"),a("Wov6"),{data:function(){return{itemIndex:0}},props:{item:Object},computed:{loggedin:function(){return this.$store.state.loggedin},userid:function(){return this.$store.state.userInfo.id}},methods:{tab:function(t){this.itemIndex=t},addCarPanelData:function(t,e){r.a.post("api/addToCar",o.a.stringify({goodid:t.id,userid:e}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){console.log(t.data)}),this.$store.commit("addCarPanelData",t)},loginNeed:function(){confirm("请先登录")&&this.$router.push({path:"login"})}}}),_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item"},[a("div",[a("div",{staticClass:"item-img"},[a("img",{staticStyle:{opacity:"1"},attrs:{alt:t.item.name,src:t.item.img_url}})]),t._v(" "),a("h6",[t._v(t._s(t.item.name))]),t._v(" "),a("h3",{staticStyle:{color:"red"}},[t._v(t._s(t.item.sell_point))]),t._v(" "),a("div",{staticClass:"item-btns clearfix"},[a("router-link",{attrs:{to:{name:"detail",query:{id:t.item.id}}}},[a("span",{staticClass:"item-gray-btn"},[t._v("查看详情 ")])]),t._v(" "),t.loggedin?a("span",{staticClass:"item-blue-btn",on:{click:function(e){t.addCarPanelData(t.item,t.userid)}}},[t._v("加入购物车 ")]):a("span",{staticClass:"item-blue-btn",on:{click:t.loginNeed}},[t._v("加入购物车 ")])],1),t._v(" "),a("div",{staticClass:"item-price clearfix"},[a("i",[t._v("¥")]),a("span",[t._v(t._s(t.item.price))])]),t._v(" "),a("div",{staticClass:"buy_time"},[a("p",{staticStyle:{"text-align":"center"}},[t._v("被购买过"+t._s(t.item.buy_times)+"次")])]),t._v(" "),a("div",{staticClass:"discount-icon"},[t._v("false")]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-cover"},[e("a",{attrs:{href:"javascript:;",target:"_blank"}})])}]};var C=a("VU/8")(h,_,!1,function(t){a("ygOo")},null,null).exports,y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.maxOff?a("div",{attrs:{id:"prompt"}},[a("div",{staticClass:"module-dialog-layer",staticStyle:{display:"block"}}),t._v(" "),a("div",{staticClass:"clear module-dialog module-dialog-confirm module-dialog-show",staticStyle:{display:"block",opacity:"1"}},[a("div",{staticClass:"dialog-panel"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"dialog-btn-wrap clear"},[a("div",{staticClass:"blue-main-btn normal-main-btn js-dialog-done"},[a("a",{on:{click:t.closePrompt}},[t._v("确定")])])])])])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"topbar"},[e("div",{staticClass:"dialog-tit clear"},[e("h4",{staticClass:"js-dialog-title"},[this._v("提示")])]),this._v(" "),e("span",{staticClass:"dialog-close png"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dialog-con js-dialog-container"},[e("div",{staticClass:"confirm-msg"},[this._v("商品已达到最大可购买数量，无法继续添加")])])}]};var b=a("VU/8")({computed:{maxOff:function(){return this.$store.state.maxOff}},methods:{closePrompt:function(){this.$store.commit("closePrompt")}}},y,!1,function(t){a("RUc8")},null,null).exports,w={data:function(){return{imgList:[{url:a("nxXx")},{url:a("sFmQ")},{url:a("U60S")}]}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-carousel",{attrs:{interval:4e3,type:"card",height:"280px"}},t._l(t.imgList,function(e,s){return a("el-carousel-item",{key:s},[a("img",{attrs:{src:t.imgList[s].url}})])}))},staticRenderFns:[]};var A=a("VU/8")(w,x,!1,function(t){a("y9SU")},null,null).exports,k={data:function(){return{goodsData:"",total:null,orderType:1,currentPage:1}},components:{shopItem:C,prompt:b,slide:A},mounted:function(){var t=this;this.handleCurrentChange(1),r.a.get("api/totalNum").then(function(e){t.total=e.data}).catch(function(t){console.log(t)})},methods:{handleCurrentChange:function(t){var e=this;scrollTo(0,0),r.a.get("api",{params:{pageNum:t,orderType:this.orderType}}).then(function(t){e.goodsData=t.data,console.log(e.goodsData)}).catch(function(t){console.log(t)})},changeOrderType:function(t){this.orderType=t,this.currentPage=1,this.handleCurrentChange(this.currentPage)}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("div",{staticClass:"sku-box store-content "},[a("div",{staticStyle:{width:"85%",margin:"0 auto","margin-top":"30px"}},[a("slide")],1),t._v(" "),a("div",{staticClass:"gray-box"},[a("div",{staticStyle:{"padding-top":"10px","padding-left":"10px"}},[1==t.orderType?a("el-button",{attrs:{type:"primary",disabled:""}},[t._v("热门商品")]):a("el-button",{on:{click:function(e){t.changeOrderType(1)}}},[t._v("热门商品")]),t._v("  •\n        "),2==t.orderType?a("el-button",{attrs:{type:"primary",disabled:""}},[t._v("价格从高到低")]):a("el-button",{on:{click:function(e){t.changeOrderType(2)}}},[t._v("价格从高到低")]),t._v("  •\n        "),3==t.orderType?a("el-button",{attrs:{type:"primary",disabled:""}},[t._v("价格从低到高")]):a("el-button",{on:{click:function(e){t.changeOrderType(3)}}},[t._v("价格从低到高")])],1),t._v(" "),a("div",{staticClass:"item-box"},t._l(t.goodsData,function(t,e){return a("shopItem",{key:e,attrs:{item:t}})})),t._v(" "),a("el-pagination",{staticStyle:{"text-align":"center",height:"66px"},attrs:{"current-page":t.currentPage,background:"",layout:"prev, pager, next","page-size":20,total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)]),t._v(" "),a("prompt")],1)},staticRenderFns:[]};var S=a("VU/8")(k,$,!1,function(t){a("ccSz")},null,null).exports,F={data:function(){return{goodsData:"",total:null,orderType:1,currentPage:1}},components:{shopItem:C,prompt:b,slide:A},mounted:function(){var t=this;this.handleCurrentChange(1),r.a.get("api/totalNum").then(function(e){t.total=e.data}).catch(function(t){console.log(t)})},methods:{handleCurrentChange:function(t){var e=this;scrollTo(0,0),r.a.get("api",{params:{pageNum:t,orderType:this.orderType}}).then(function(t){e.goodsData=t.data}).catch(function(t){console.log(t)})},changeOrderType:function(t){this.orderType=t,this.currentPage=1,this.handleCurrentChange(this.currentPage)}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("div",{staticClass:"sku-box store-content "},[a("div",{staticClass:"gray-box"},[a("div",{staticStyle:{"padding-top":"10px","padding-left":"10px"}},[1==t.orderType?a("el-button",{attrs:{type:"primary",disabled:""}},[t._v("热门商品")]):a("el-button",{on:{click:function(e){t.changeOrderType(1)}}},[t._v("热门商品")]),t._v("  •\n        "),2==t.orderType?a("el-button",{attrs:{type:"primary",disabled:""}},[t._v("价格从高到低")]):a("el-button",{on:{click:function(e){t.changeOrderType(2)}}},[t._v("价格从高到低")]),t._v("  •\n        "),3==t.orderType?a("el-button",{attrs:{type:"primary",disabled:""}},[t._v("价格从低到高")]):a("el-button",{on:{click:function(e){t.changeOrderType(3)}}},[t._v("价格从低到高")])],1),t._v(" "),a("div",{staticClass:"item-box"},t._l(t.goodsData,function(t,e){return a("shopItem",{key:e,attrs:{item:t}})})),t._v(" "),a("el-pagination",{staticStyle:{"text-align":"center",height:"66px"},attrs:{"current-page":t.currentPage,background:"",layout:"prev, pager, next","page-size":20,total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)]),t._v(" "),a("prompt")],1)},staticRenderFns:[]};var I=a("VU/8")(F,P,!1,function(t){a("2Qso")},null,null).exports,U={data:function(){return{mydata:""}},mounted:function(){var t=this;r.a.get("api/goodDetail",{params:{goodid:this.$route.query.id}}).then(function(e){t.mydata=e.data})},methods:{changeMainPic:function(){document.getElementsByClassName("detail-main-pic")[0].src=event.path[0].src},addCarPanelData:function(t){this.$store.commit("addCarPanelData",t)}}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-content"},[s("img",{staticClass:"detail-main-pic",attrs:{src:t.mydata.img_url}}),t._v(" "),s("div",{staticClass:"detail-main-name"},[t._v(t._s(t.mydata.name))]),t._v(" "),s("div",{staticClass:"goods-price"},[t._v(t._s(t.mydata.price))]),t._v(" "),s("div",{staticClass:"goods-sell-point"},[t._v(t._s(t.mydata.sell_point))]),t._v(" "),s("div",{staticClass:"change-color"},[s("div",{staticStyle:{"margin-left":"60px"}},[s("img",{attrs:{src:t.mydata.img_url},on:{click:t.changeMainPic}})]),t._v(" "),s("div",[s("img",{attrs:{src:a("g7Cf")},on:{click:t.changeMainPic}})]),t._v(" "),s("div",[s("img",{attrs:{src:a("kFw0")},on:{click:t.changeMainPic}})]),t._v(" "),s("div",[s("img",{attrs:{src:a("9rXu")},on:{click:t.changeMainPic}})]),t._v(" "),s("div",[s("img",{attrs:{src:a("5W9S")},on:{click:t.changeMainPic}})])]),t._v(" "),s("el-button",{staticClass:"add-to-carpanel",attrs:{type:"primary"},on:{click:function(e){t.addCarPanelData(t.mydata)}}},[t._v("加入购物车")])],1)},staticRenderFns:[]};var E=a("VU/8")(U,D,!1,function(t){a("nCUd")},"data-v-0c5a80c4",null).exports,T={data:function(){return{options:[{value:this.$store.state.userInfo.addr1,label:this.$store.state.userInfo.addr1},{value:this.$store.state.userInfo.addr2,label:this.$store.state.userInfo.addr2},{value:this.$store.state.userInfo.addr3,label:this.$store.state.userInfo.addr3}],value:this.$store.state.userInfo.addr1}},props:{item:Object},methods:{paySuccess:function(t,e,a){var s=this;r.a.post("api/addToOrder",o.a.stringify({goodid:t.id,userid:e,count:t.count,addr:a}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){console.log(t.data)}),r.a.post("api/delCar",o.a.stringify({goodid:t.id,userid:e}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){console.log(t.data)}),this.$notify({title:"支付成功",message:"请到我的订单查页面看详情",type:"success"}),this.$store.state.carPanelData.forEach(function(e){e.id==t.id&&(e.addr=a,s.$store.commit("delCarPanelData",e.id),s.$store.commit("addPayedData",e))})}},computed:{userInfo:function(){return this.$store.state.userInfo}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("hr"),t._v(" "),a("li",{staticClass:"car-item"},[a("img",{staticClass:"car-item-img",attrs:{src:t.item.img_url}}),t._v(" "),a("div",{staticClass:"car-item-name"},[t._v(t._s(t.item.name)+"\n      "),a("br"),a("div",{staticStyle:{"font-size":"0.8em","margin-top":"10px","text-align":"left"}},[t._v(t._s(t.item.sell_point))])]),t._v(" "),a("div",{staticClass:"car-item-sell-point"}),t._v(" "),a("div",{staticClass:"car-item-price"},[t._v("￥"+t._s(t.item.price))]),t._v(" "),a("div",{staticClass:"car-item-count"},[t._v(t._s(t.item.count))]),t._v(" "),a("div",{staticClass:"total-money"},[t._v("￥"+t._s(t.item.count*t.item.price))]),t._v(" "),a("el-button",{staticClass:"operate-button",attrs:{type:"primary"},on:{click:function(e){t.paySuccess(t.item,t.userInfo.id,t.value)}}},[t._v("结算")]),t._v(" "),null==t.userInfo.addr1&&null==t.userInfo.addr2&&null==t.userInfo.addr3?a("div",{staticClass:"receve-addr"},[t._v("\n      地址:"),a("el-select",{attrs:{placeholder:"请前往个人中心设置地址"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1):a("div",{staticClass:"receve-addr"},[t._v("地址:"),a("el-select",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)])},staticRenderFns:[]};var R={components:{carPanelItem:a("VU/8")(T,V,!1,function(t){a("iChF")},"data-v-52636160",null).exports},computed:{carPanelData:function(){return this.$store.state.carPanelData}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"car-panel-page"},[a("div",{staticClass:"car-item-list",staticStyle:{"text-align":"center","font-size":"20px"}},[a("div",{staticStyle:{float:"left",width:"80px"}},[t._v("预览")]),t._v(" "),a("div",{staticStyle:{float:"left",width:"300px"}},[t._v("信息")]),t._v(" "),a("div",{staticStyle:{float:"left",width:"100px","margin-left":"110px"}},[t._v("单价")]),t._v(" "),a("div",{staticStyle:{float:"left",width:"150px"}},[t._v("数量")]),t._v(" "),a("div",{staticStyle:{float:"left",width:"150px"}},[t._v("金额")]),t._v(" "),a("div",{staticStyle:{width:"200px",float:"left"}},[t._v("操作")]),t._v(" "),a("div",{staticClass:"car-item-list-content"},[a("br"),t._v(" "),t._l(t.carPanelData,function(t,e){return a("carPanelItem",{key:e,attrs:{item:t}})})],2)])])},staticRenderFns:[]};var O=a("VU/8")(R,N,!1,function(t){a("+9Jf")},null,null).exports,Y={data:function(){return{value:""}},props:{item:Object},computed:{userInfo:function(){return this.$store.state.userInfo}},methods:{verifyRecive:function(t){var e=this;this.$store.commit("verifyRecive",t),r.a.get("api/verifyRecive",{params:{userid:this.$store.getters.getUserid,goodid:t}}).then(function(t){e.$message({showClose:!0,message:t.data.msg,type:"success"}),e.$router.push({path:"payedPage"})}).catch(function(t){console.log(t)})},refund:function(t){var e=this;this.$store.commit("delPayedData",t),r.a.get("api/refund",{params:{userid:this.$store.getters.getUserid,goodid:t}}).then(function(t){e.$message({showClose:!0,message:t.data.msg,type:"success"})}).catch(function(t){console.log(t)})}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("hr"),t._v(" "),a("li",{staticClass:"car-item"},[a("img",{staticClass:"car-item-img",attrs:{src:t.item.img_url}}),t._v(" "),a("div",{staticClass:"car-item-name"},[t._v(t._s(t.item.name)+"\n      "),a("br"),a("div",{staticStyle:{"font-size":"0.8em","margin-top":"10px","text-align":"left"}},[t._v(t._s(t.item.sell_point))])]),t._v(" "),a("div",{staticClass:"car-item-sell-point"}),t._v(" "),a("div",{staticClass:"car-item-price"},[t._v("￥"+t._s(t.item.price))]),t._v(" "),a("div",{staticClass:"car-item-count"},[t._v(t._s(t.item.count))]),t._v(" "),a("div",{staticClass:"total-money"},[t._v("￥"+t._s(t.item.count*t.item.price))]),t._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:""}}),t._v(" "),a("el-button",{attrs:{disabled:"",type:"primary"}},[t._v("已支付")]),t._v(" "),a("div",{staticClass:"receve-addr"},[t._v("地址:"+t._s(t.item.addr)+"\n    ")]),t._v(" "),t.item.is_send?a("div",{staticStyle:{float:"right","margin-right":"40px"}},[t.item.is_recive?a("div",[a("el-button",{attrs:{disabled:"",type:"danger"}},[t._v("已确认")])],1):a("div",[a("span",{staticStyle:{"margin-right":"80px","line-height":"40px"}},[t._v("物品在路上......")]),t._v(" "),a("el-button",{staticClass:"verify-button",staticStyle:{position:"relative",left:"10px"},attrs:{type:"danger"},on:{click:function(e){t.verifyRecive(t.item.id)}}},[t._v("确认收货")])],1)]):a("div",{staticStyle:{float:"right","margin-right":"40px"}},[a("span",{staticStyle:{"margin-right":"100px","line-height":"40px"}},[t._v("商家处理中......")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.refund(t.item.id)}}},[t._v("退款")])],1)],1)])},staticRenderFns:[]};var B={computed:{payedData:function(){return this.$store.state.payedData}},components:{payedItem:a("VU/8")(Y,j,!1,function(t){a("9+32")},"data-v-31d73b13",null).exports},mounted:function(){var t=this;r.a.get("api/getOrder",{params:{userid:this.$store.getters.getUserid}}).then(function(e){t.$store.state.payedData=e.data}).catch(function(t){console.log(t)})}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"car-panel-page"},[a("div",{staticClass:"car-item-list",staticStyle:{"text-align":"center","font-size":"20px"}},[a("div",{staticStyle:{float:"left",width:"80px"}},[t._v("预览")]),t._v(" "),a("div",{staticStyle:{float:"left",width:"300px"}},[t._v("信息")]),t._v(" "),a("div",{staticStyle:{float:"left",width:"100px","margin-left":"110px"}},[t._v("单价")]),t._v(" "),a("div",{staticStyle:{float:"left",width:"150px"}},[t._v("数量")]),t._v(" "),a("div",{staticStyle:{float:"left",width:"150px"}},[t._v("金额")]),t._v(" "),a("div",{staticStyle:{width:"200px",float:"left"}},[t._v("操作")]),t._v(" "),a("div",{staticClass:"car-item-list-content"},[a("br"),t._v(" "),t._l(t.payedData,function(t,e){return a("payedItem",{key:e,attrs:{item:t}})})],2)])])},staticRenderFns:[]};var W=a("VU/8")(B,Q,!1,function(t){a("SBQl")},null,null).exports,J={data:function(){return{ruleForm2:{pass:"",username:""},rules2:{pass:[{validator:function(t,e,a){""===e?a(new Error("请输入密码")):a()},trigger:"blur"}],username:[{validator:function(t,e,a){if(""===e)return a(new Error("帐号不能为空"));a()},trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return console.log("error submit!!"),!1;r.a.post("api/login",o.a.stringify({username:e.ruleForm2.username,password:e.ruleForm2.pass}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){"failure"!=a.data.status?(e.$message({showClose:!0,message:"登录成功",type:"success"}),e.$store.commit("login"),e.$store.commit("bindUserInfo",a.data),e.getCarData(),e.getOrderData(),e.$cookies.set("user_id",a.data.id),e.$router.push("/")):(e.$message({showClose:!0,message:a.data.msg,type:"error"}),e.$refs[t].resetFields())}).catch(function(t){console.log(t)})})},resetForm:function(t){this.$refs[t].resetFields()},getCarData:function(){var t=this;r.a.get("api/getCar",{params:{userid:this.$store.getters.getUserid}}).then(function(e){t.$store.state.carPanelData=e.data,console.log(t.$store.state.carPanelData)}).catch(function(t){console.log(t)})},getOrderData:function(){var t=this;r.a.get("api/getOrder",{params:{userid:this.$store.getters.getUserid}}).then(function(e){t.$store.state.payedData=e.data}).catch(function(t){console.log(t)})}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-main"},[a("p",{staticStyle:{"font-size":"50px","text-align":"center","line-height":"100px"}},[t._v("登录")]),t._v(" "),a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm2,"status-icon":"",rules:t.rules2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"帐号",prop:"username"}},[a("el-input",{model:{value:t.ruleForm2.username,callback:function(e){t.$set(t.ruleForm2,"username",t._n(e))},expression:"ruleForm2.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"pass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.ruleForm2.pass,callback:function(e){t.$set(t.ruleForm2,"pass",e)},expression:"ruleForm2.pass"}}),a("br")],1),t._v(" "),a("p",{staticStyle:{"margin-left":"80px"}},[t._v("没帐号?去"),a("router-link",{staticStyle:{"text-decoration":"underline",color:"blue"},attrs:{to:"regist"}},[t._v("注册")])],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-left":"60px","margin-top":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm2")}}},[t._v("登录")]),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("ruleForm2")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var K=a("VU/8")(J,q,!1,function(t){a("U3WA")},null,null).exports,L={data:function(){var t=this;return{ruleForm2:{pass:"",checkPass:"",username:""},rules2:{pass:[{validator:function(e,a,s){""===a?s(new Error("请输入密码")):(""!==t.ruleForm2.checkPass&&t.$refs.ruleForm2.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{validator:function(e,a,s){""===a?s(new Error("请再次输入密码")):a!==t.ruleForm2.pass?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],username:[{validator:function(t,e,a){return""===e?a(new Error("帐号不能为空")):e.toString().length<8?a(new Error("帐号长度最少为8")):void a()},trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return console.log("error submit!!"),!1;r.a.post("api/add",o.a.stringify({username:e.ruleForm2.username,password:e.ruleForm2.pass}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){"success"==a.data.status?(e.$message({showClose:!0,message:a.data.msg,type:"success"}),e.$router.push("login")):(e.$message({showClose:!0,message:a.data.msg,type:"error"}),e.$refs[t].resetFields())}).catch(function(t){console.log(t)})})},resetForm:function(t){this.$refs[t].resetFields()}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"regist-main"},[a("p",{staticStyle:{"font-size":"50px","text-align":"center","line-height":"100px"}},[t._v("注册")]),t._v(" "),a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm2,"status-icon":"",rules:t.rules2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"帐号",prop:"username"}},[a("el-input",{model:{value:t.ruleForm2.username,callback:function(e){t.$set(t.ruleForm2,"username",t._n(e))},expression:"ruleForm2.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"pass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.ruleForm2.pass,callback:function(e){t.$set(t.ruleForm2,"pass",e)},expression:"ruleForm2.pass"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.ruleForm2.checkPass,callback:function(e){t.$set(t.ruleForm2,"checkPass",e)},expression:"ruleForm2.checkPass"}}),a("br")],1),t._v(" "),a("p",{staticStyle:{"margin-left":"80px"}},[t._v("有帐号？去"),a("router-link",{staticStyle:{"text-decoration":"underline",color:"blue"},attrs:{to:"login"}},[t._v("登录")])],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px","margin-left":"60px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm2")}}},[t._v("注册")]),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("ruleForm2")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var M=a("VU/8")(L,G,!1,function(t){a("Kdbh")},null,null).exports,z={data:function(){return{password2:""}},computed:{userInfo:function(){return this.$store.state.userInfo}},methods:{changeNickName:function(){var t=this;r.a.post("users/changeNickName",o.a.stringify({id:this.$store.getters.getUserid,nickname:this.userInfo.nickname}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e.data),t.$message({showClose:!0,message:e.data.msg,type:"success"})}).catch(function(t){console.log(t)})},changePass:function(){var t=this;this.password2==this.userInfo.password?r.a.post("users/changePass",o.a.stringify({id:this.$store.getters.getUserid,pass:this.userInfo.password}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e.data),t.$message({showClose:!0,message:e.data.msg,type:"success"})}).catch(function(t){console.log(t)}):alert("密码1与密码2不同")},changeAddr1:function(){var t=this;r.a.post("users/changeAddr1",o.a.stringify({id:this.$store.getters.getUserid,addr1:this.userInfo.addr1}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e.data),t.$message({showClose:!0,message:e.data.msg,type:"success"})}).catch(function(t){console.log(t)})},changeAddr2:function(){var t=this;r.a.post("users/changeAddr2",o.a.stringify({id:this.$store.getters.getUserid,addr2:this.userInfo.addr2}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e.data),t.$message({showClose:!0,message:e.data.msg,type:"success"})}).catch(function(t){console.log(t)})},changeAddr3:function(){var t=this;r.a.post("users/changeAddr3",o.a.stringify({id:this.$store.getters.getUserid,addr3:this.userInfo.addr3}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e.data),t.$message({showClose:!0,message:e.data.msg,type:"success"})}).catch(function(t){console.log(t)})}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"usermain"},[a("div",{staticClass:"userinfo"},[a("div",{staticClass:"nickname"},[a("el-input",{model:{value:t.userInfo.nickname,callback:function(e){t.$set(t.userInfo,"nickname",e)},expression:"userInfo.nickname"}},[a("template",{slot:"prepend"},[t._v("昵  称：")])],2),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.changeNickName}},[t._v("修改")])],1),t._v(" "),a("div",{staticClass:"password1"},[a("el-input",{attrs:{type:"password"},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}},[a("template",{slot:"prepend"},[t._v("密码1：")])],2),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.changePass}},[t._v("修改")])],1),t._v(" "),a("div",{staticClass:"password2"},[a("el-input",{attrs:{type:"password"},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}},[a("template",{slot:"prepend"},[t._v("密码2：")])],2),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.changePass}},[t._v("修改")])],1),t._v(" "),a("div",{staticClass:"addr1"},[a("el-input",{model:{value:t.userInfo.addr1,callback:function(e){t.$set(t.userInfo,"addr1",e)},expression:"userInfo.addr1"}},[a("template",{slot:"prepend"},[t._v("地址1：")])],2),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.changeAddr1}},[t._v("修改")])],1),t._v(" "),a("div",{staticClass:"addr2"},[a("el-input",{model:{value:t.userInfo.addr2,callback:function(e){t.$set(t.userInfo,"addr2",e)},expression:"userInfo.addr2"}},[a("template",{slot:"prepend"},[t._v("地址2：")])],2),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.changeAddr2}},[t._v("修改")])],1),t._v(" "),a("div",{staticClass:"addr3"},[a("el-input",{model:{value:t.userInfo.addr3,callback:function(e){t.$set(t.userInfo,"addr3",e)},expression:"userInfo.addr3"}},[a("template",{slot:"prepend"},[t._v("地址3：")])],2),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.changeAddr3}},[t._v("修改")])],1)])])},staticRenderFns:[]};var X=a("VU/8")(z,H,!1,function(t){a("oSlQ")},null,null).exports;s.default.use(g.a);var Z=new g.a({routes:[{path:"/",component:S,meta:{title:"首页"}},{path:"/Home",component:S,meta:{title:"首页"}},{path:"/Shop",component:I,meta:{title:"商品列表"}},{path:"/detail",name:"detail",component:E,meta:{title:"商品详情"}},{path:"/carPanel",name:"carpanel",component:O,meta:{title:"购物车",requireAuth:!0}},{path:"/payedPage",name:"payedPage",component:W,meta:{title:"我的订单",requireAuth:!0}},{path:"/login",name:"login",component:K,meta:{title:"登录"}},{path:"/regist",name:"regist",component:M,meta:{title:"注册"}},{path:"/userCenter",name:"userCenter",component:X,meta:{title:"用户中心",requireAuth:!0}}]}),tt=a("NYxO");s.default.use(tt.a);var et=new tt.a.Store({state:{userInfo:"",loggedin:!1,payedData:[],carPanelData:[],maxOff:!1,carShow:!1,ball:{show:!1,el:null,img:""}},getters:{totalCount:function(t){var e=0;return t.carPanelData.forEach(function(t){e+=t.count}),e},totalPrice:function(t){var e=0;return t.carPanelData.forEach(function(t){e+=t.price*t.count}),e},getUserid:function(t){return t.userInfo.id}},mutations:{bindUserInfo:function(t,e){t.userInfo=e},addUserInfo:function(t,e){t.userInfo=e},addCarPanelData:function(t,e){var a=!0;if(t.carPanelData.forEach(function(s){s.id===e.id&&(s.count++,a=!1,t.carShow=!0,t.ball.show=!0,t.ball.img=e.img_url,t.ball.el=event.path[0])}),a){t.ball.show=!0,t.ball.img=e.img_url,t.ball.el=event.path[0];var n=e;s.default.set(n,"count",1),t.carPanelData.push(n),t.carShow=!0}},delCarPanelData:function(t,e){t.carPanelData.forEach(function(a,s){a.id!==e||t.carPanelData.splice(s,1)})},delPayedData:function(t,e){t.payedData.forEach(function(a,s){a.id!==e||t.payedData.splice(s,1)})},verifyRecive:function(t,e){t.payedData.forEach(function(t){t.id!==e||(t.is_recive=1)})},showCar:function(t){t.carShow=!0},hideCar:function(t){t.carShow=!1},closePrompt:function(t){t.maxOff=!1},addPayedData:function(t,e){t.payedData.push(e)},login:function(t){t.loggedin=!0},reset:function(t){t.userInfo="",t.loggedin=!1,t.payedData=[],t.carPanelData=[],t.maxOff=!1,t.carShow=!1,t.ball={show:!1,el:null,img:""}}}}),at=a("zL8q"),st=a.n(at),nt=(a("tvR6"),a("ppUw")),rt=a.n(nt);s.default.config.productionTip=!1,s.default.use(st.a),s.default.use(rt.a),new s.default({el:"#app",router:Z,store:et,components:{App:f},template:"<App/>",mounted:function(){this.getUserInfo()},methods:{getCarData:function(t){var e=this;r.a.get("api/getCar",{params:{userid:t}}).then(function(t){e.$store.state.carPanelData=t.data,console.log(e.$store.state.carPanelData)}).catch(function(t){console.log(t)})},getOrderData:function(t){var e=this;r.a.get("api/getOrder",{params:{userid:t}}).then(function(t){e.$store.state.payedData=t.data}).catch(function(t){console.log(t)})},getUserInfo:function(){var t=this,e=$cookies.get("user_id");null!=e&&r.a.post("api/cookieLogin",o.a.stringify({id:e}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){t.$store.commit("login"),t.$store.commit("bindUserInfo",a.data),t.getCarData(e),t.getOrderData(e)})}}}),Z.beforeEach(function(t,e,a){window.document.title=t.meta.title,t.meta.requireAuth?1==et.state.loggedin?a():a({path:"/login",query:{redirect:t.fullPath}}):a()})},RUc8:function(t,e){},SBQl:function(t,e){},U3WA:function(t,e){},U60S:function(t,e,a){t.exports=a.p+"static/img/swipe4.f34e7cb.jpg"},V8JI:function(t,e,a){t.exports=a.p+"static/img/logo.a6cbb51.png"},Wov6:function(t,e){},ccSz:function(t,e){},g7Cf:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA7CAIAAAClhQ7aAAAAlUlEQVRoBe3SsQ0AIAzEwMD+O0PnDVxEMtVXFjo4bzadu+myM13XfK9000WgzwCFMNIVUEmmC4Uw0hVQSaYLhTDSFVBJpguFMNIVUEmmC4Uw0hVQSaYLhTDSFVBJpguFMNIVUEmmC4Uw0hVQSaYLhTDSFVBJpguFMNIVUEmmC4Uw0hVQSaYLhTDSFVBJpguFMNIVUEl+oncBdYueBxEAAAAASUVORK5CYII="},iChF:function(t,e){},kFw0:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA7CAIAAACom36dAAAAoUlEQVRoBe3SwQkAIRTEULVyS9cKcgqCkL0Ghs9z59jju299d/E9uKNfvVrSSYNAvwfgqClplRPGkgYcNSWtcsJY0oCjpqRVThhLGnDUlLTKCWNJA46aklY5YSxpwFFT0ionjCUNOGpKWuWEsaQBR01Jq5wwljTgqClplRPGkgYcNSWtcsJY0oCjpqRVThhLGnDUlLTKCWNJA46aklY5YewAoyYA9hUlPx4AAAAASUVORK5CYII="},nCUd:function(t,e){},nxXx:function(t,e,a){t.exports=a.p+"static/img/swipe2.c7767f9.jpg"},oSlQ:function(t,e){},sFmQ:function(t,e,a){t.exports=a.p+"static/img/swipe3.2f09555.jpg"},tvR6:function(t,e){},vAiV:function(t,e){},y9SU:function(t,e){},ygOo:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7b0ae17ea3152ff52c1a.js.map